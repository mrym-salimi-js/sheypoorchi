import{r as e,j as n,N as b,a as h,b as v}from"./index-2i_4_wqC.js";import{A as x}from"./AuthForm-DEx9TWQj.js";function F(){const s=e.useRef([]),[o,u]=e.useState(),[f,r]=e.useState(!1),m="https://pensive-volhard-wbilxm8r4.liara.run",[c,i]=e.useState({message:"",status:""}),[d,g]=e.useState();e.useEffect(()=>{document.title="فراموشی رمز عبور"},[]);const p=async()=>{var l;(l=s==null?void 0:s.current)==null||l.map(t=>{t.value===""?h(a=>{u(a)},t.getAttribute("data-label"),t.value,o,t.type):g(t.value)})};return e.useEffect(()=>{var t;const l=async()=>{try{r(!0);const a=await v.post(`${m}/api/users/forgetPassword`,{email:s==null?void 0:s.current[0].value});a!==void 0&&(a.data.status==="success"&&i({message:"ایمیلی برای شما ارسال شد!",status:"success"}),r(!1))}catch(a){r(!1),a&&i({message:"کاربری بااین ایمیل یافت نشد",status:"fail"})}};d&&(o&&((t=Object==null?void 0:Object.keys(o))==null?void 0:t.length)==0||o===void 0)&&l()},[d]),n.jsxs(n.Fragment,{children:[c.message&&n.jsx(b,{setNotif:i,notif:c}),n.jsx(x,{fieldes:[{label:"ایمیل",type:"email",valueType:"email"}],handleBtn:p,headerLabel:"فراموشی رمز عبور",inputRefs:s,validation:o,setValidation:u,loading:f,otherLink:[{label:"رمز عبورم یادمه :)",link:"/login"}],btnLabel:"ارسال"})]})}export{F as default};
